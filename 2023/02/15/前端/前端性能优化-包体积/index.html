<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>前端/前端性能优化-包体积 | 小黑的小站</title><meta name="description" content="压缩项目打包后的体积大小、提升打包速度，是前端性能优化中非常重要的环节，笔者结合工作中的实践总结，梳理出一些 常规且有效 的性能优化建议项目背景技术栈： vue-cli3 + vue2 + webpack4 主要插件：elementUI + echarts + axios + momentjs 目标： 通过一系列的优化方案，对比打包体积和速度的前后变化，来验证方案的有效性 项目初始体积与速度 初"><meta name="author" content="小黑"><meta name="copyright" content="小黑"><meta name="format-detection" content="telephone=no"><link rel="shortcut icon" href="/img/favicon.ico"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="dns-prefetch" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="https://fonts.googleapis.com" crossorigin="crossorigin"/><link rel="dns-prefetch" href="https://fonts.googleapis.com"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="dns-prefetch" href="//busuanzi.ibruce.info"/><meta name="twitter:card" content="summary"><meta name="twitter:title" content="前端/前端性能优化-包体积"><meta name="twitter:description" content="压缩项目打包后的体积大小、提升打包速度，是前端性能优化中非常重要的环节，笔者结合工作中的实践总结，梳理出一些 常规且有效 的性能优化建议项目背景技术栈： vue-cli3 + vue2 + webpack4 主要插件：elementUI + echarts + axios + momentjs 目标： 通过一系列的优化方案，对比打包体积和速度的前后变化，来验证方案的有效性 项目初始体积与速度 初"><meta name="twitter:image" content="http://ynxh.xyz/img/mysql.jpeg"><meta property="og:type" content="article"><meta property="og:title" content="前端/前端性能优化-包体积"><meta property="og:url" content="http://ynxh.xyz/2023/02/15/%E5%89%8D%E7%AB%AF/%E5%89%8D%E7%AB%AF%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96-%E5%8C%85%E4%BD%93%E7%A7%AF/"><meta property="og:site_name" content="小黑的小站"><meta property="og:description" content="压缩项目打包后的体积大小、提升打包速度，是前端性能优化中非常重要的环节，笔者结合工作中的实践总结，梳理出一些 常规且有效 的性能优化建议项目背景技术栈： vue-cli3 + vue2 + webpack4 主要插件：elementUI + echarts + axios + momentjs 目标： 通过一系列的优化方案，对比打包体积和速度的前后变化，来验证方案的有效性 项目初始体积与速度 初"><meta property="og:image" content="http://ynxh.xyz/img/mysql.jpeg"><meta property="article:published_time" content="2023-02-15T07:42:50.332Z"><meta property="article:modified_time" content="2023-02-15T08:34:36.135Z"><script src="https://cdn.jsdelivr.net/npm/js-cookie/dist/js.cookie.min.js"></script><script>var autoChangeMode = '1'
var t = Cookies.get("theme")
if (autoChangeMode == '1'){
  var isDarkMode = window.matchMedia("(prefers-color-scheme: dark)").matches
  var isLightMode = window.matchMedia("(prefers-color-scheme: light)").matches
  var isNotSpecified = window.matchMedia("(prefers-color-scheme: no-preference)").matches
  var hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

  if (t === undefined){
    if (isLightMode) activateLightMode()
    else if (isDarkMode) activateDarkMode()
    else if (isNotSpecified || hasNoSupport){
      console.log('You specified no preference for a color scheme or your browser does not support it. I Schedule dark mode during night time.')
      var now = new Date()
      var hour = now.getHours()
      var isNight = hour < 6 || hour >= 18
      isNight ? activateDarkMode() : activateLightMode()
  }
  } else if (t == 'light') activateLightMode()
  else activateDarkMode()

} else if (autoChangeMode == '2'){
  now = new Date();
  hour = now.getHours();
  isNight = hour < 6 || hour >= 18
  if(t === undefined) isNight? activateDarkMode() : activateLightMode()
  else if (t === 'light') activateLightMode()
  else activateDarkMode() 
} else {
  if ( t == 'dark' ) activateDarkMode()
  else if ( t == 'light') activateLightMode()
}

function activateDarkMode(){
  document.documentElement.setAttribute('data-theme', 'dark')
  if (document.querySelector('meta[name="theme-color"]') !== null){
    document.querySelector('meta[name="theme-color"]').setAttribute('content','#000')
  }
}
function activateLightMode(){
  document.documentElement.setAttribute('data-theme', 'light')
  if (document.querySelector('meta[name="theme-color"]') !== null){
  document.querySelector('meta[name="theme-color"]').setAttribute('content','#fff')
  }
}</script><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css"><link rel="canonical" href="http://ynxh.xyz/2023/02/15/%E5%89%8D%E7%AB%AF/%E5%89%8D%E7%AB%AF%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96-%E5%8C%85%E4%BD%93%E7%A7%AF/"><link rel="prev" title="前端/前端性能优化-首页资源-白屏" href="http://ynxh.xyz/2023/02/15/%E5%89%8D%E7%AB%AF/%E5%89%8D%E7%AB%AF%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96-%E9%A6%96%E9%A1%B5%E8%B5%84%E6%BA%90-%E7%99%BD%E5%B1%8F/"><link rel="next" title="前端/tauri项目跨平台编译" href="http://ynxh.xyz/2023/01/29/%E5%89%8D%E7%AB%AF/tauri%E9%A1%B9%E7%9B%AE%E8%B7%A8%E5%B9%B3%E5%8F%B0%E7%BC%96%E8%AF%91/"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: {"defaultEncoding":2,"translateDelay":0,"cookieDomain":"http://ynxh.xyz","msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  bookmark: {
    message_prev: '按',
    message_next: '键将本页加入书签'
  },
  runtime_unit: '天',
  runtime: true,
  copyright: undefined,
  ClickShowText: undefined,
  medium_zoom: false,
  fancybox: true,
  Snackbar: {"bookmark":{"message_prev":"按","message_next":"键将本页加入书签"},"chs_to_cht":"你已切换为繁体","cht_to_chs":"你已切换为简体","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#49b1f5","bgDark":"#2d3035","position":"bottom-left"},
  baiduPush: false,
  highlightCopy: true,
  highlightLang: true,
  highlightShrink: 'false',
  isFontAwesomeV5: false,
  isPhotoFigcaption: false
  
}</script><script>var GLOBAL_CONFIG_SITE = { 
  isPost: true,
  isHome: false,
  isSidebar: true  
  }</script><noscript><style>
#page-header {
  opacity: 1
}
.justified-gallery img{
  opacity: 1
}
</style></noscript><meta name="generator" content="Hexo 4.2.1"></head><body><div id="mobile-sidebar"><div id="menu_mask"></div><div id="mobile-sidebar-menus"><div class="mobile_author_icon"><img class="avatar-img" src="/img/avatar.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="mobile_post_data"><div class="mobile_data_item is-center"><div class="mobile_data_link"><a href="/archives/"><div class="headline">文章</div><div class="length_num">111</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-heartbeat" aria-hidden="true"></i><span> 清单</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fa fa-music"></i><span> 音乐</span></a></li><li><a class="site-page" href="/Gallery/"><i class="fa-fw fa fa-picture-o"></i><span> 照片</span></a></li><li><a class="site-page" href="/movies/"><i class="fa-fw fa fa-film"></i><span> 电影</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> 关于</span></a></div></div></div></div><i class="fa fa-arrow-right on" id="toggle-sidebar" aria-hidden="true">     </i><div id="sidebar"><div class="sidebar-toc"><div class="sidebar-toc__title">目录</div><div class="sidebar-toc__progress"><span class="progress-notice">你已经读了</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar">     </div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#压缩项目打包后的体积大小、提升打包速度，是前端性能优化中非常重要的环节，笔者结合工作中的实践总结，梳理出一些-常规且有效-的性能优化建议"><span class="toc-number">1.</span> <span class="toc-text">压缩项目打包后的体积大小、提升打包速度，是前端性能优化中非常重要的环节，笔者结合工作中的实践总结，梳理出一些 常规且有效 的性能优化建议</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#项目背景"><span class="toc-number">2.</span> <span class="toc-text">项目背景</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#项目初始体积与速度"><span class="toc-number">3.</span> <span class="toc-text">项目初始体积与速度</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#开始优化-✈︎"><span class="toc-number">4.</span> <span class="toc-text">开始优化 ✈︎</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1、externals-提取项目依赖"><span class="toc-number">4.1.</span> <span class="toc-text">1、externals 提取项目依赖</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2、组件库的按需引入"><span class="toc-number">4.2.</span> <span class="toc-text">2、组件库的按需引入</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3、减小三方依赖的体积"><span class="toc-number">4.3.</span> <span class="toc-text">3、减小三方依赖的体积</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4、HappyPack-多线程打包"><span class="toc-number">4.4.</span> <span class="toc-text">4、HappyPack 多线程打包</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5、Gzip-压缩"><span class="toc-number">4.5.</span> <span class="toc-text">5、Gzip 压缩</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6、DllPlugin-动态链接库"><span class="toc-number">4.6.</span> <span class="toc-text">6、DllPlugin 动态链接库</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#优化总结"><span class="toc-number">5.</span> <span class="toc-text">优化总结</span></a></li></ol></div></div></div><div id="body-wrap"><div class="post-bg" id="nav" style="background-image: url(/img/mysql.jpeg)"><div id="page-header"><span class="pull_left" id="blog_name"><a class="blog_title" id="site-name" href="/">小黑的小站</a></span><span class="pull_right menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-heartbeat" aria-hidden="true"></i><span> 清单</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fa fa-music"></i><span> 音乐</span></a></li><li><a class="site-page" href="/Gallery/"><i class="fa-fw fa fa-picture-o"></i><span> 照片</span></a></li><li><a class="site-page" href="/movies/"><i class="fa-fw fa fa-film"></i><span> 电影</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> 关于</span></a></div></div><span class="toggle-menu close"><a class="site-page"><i class="fa fa-bars fa-fw" aria-hidden="true"></i></a></span></span></div><div id="post-info"><div id="post-title"><div class="posttitle">前端/前端性能优化-包体积</div></div><div id="post-meta"><div class="meta-firstline"><time class="post-meta__date"><span class="post-meta__date-created" title="发表于 2023-02-15 15:42:50"><i class="fa fa-calendar" aria-hidden="true"></i> 发表于 2023-02-15</span><span class="post-meta__separator">|</span><span class="post-meta__date-updated" title="更新于 2023-02-15 16:34:36"><i class="fa fa-history" aria-hidden="true"></i> 更新于 2023-02-15</span></time></div><div class="meta-secondline"> <span class="post-meta-wordcount"><i class="post-meta__icon fa fa-file-word-o" aria-hidden="true"></i><span>字数总计:</span><span class="word-count">2.2k</span><span class="post-meta__separator">|</span><i class="post-meta__icon fa fa-clock-o" aria-hidden="true"></i><span>阅读时长: 8 分钟</span></span></div><div class="meta-thirdline"><span class="post-meta-pv-cv"><span class="post-meta__separator">|</span><i class="fa fa-eye post-meta__icon" aria-hidden="true"> </i><span>阅读量:</span><span id="busuanzi_value_page_pv"></span></span><span class="post-meta-commentcount"></span></div></div></div></div><main class="layout_post" id="content-inner"><article id="post"><div id="article-container"><p><img src="/" class="lazyload" data-src="https://e8ihplx6a2.feishu.cn/space/api/box/stream/download/asynccode/?code=NjUxZjQzZTMxZDUxMGM2ZGM3ZmVkYTRiYjNlN2UyNzVfcm5CTUFSMmhkMHBEenUyMVpQMVpDTlFmdU1xeEpTbEFfVG9rZW46Ym94Y252QU1ibVlKMmJMYzBtMDlBZ2FBTm5iXzE2NzY0NTAwNTA6MTY3NjQ1MzY1MF9WNA"  alt="img"></p>
<h2 id="压缩项目打包后的体积大小、提升打包速度，是前端性能优化中非常重要的环节，笔者结合工作中的实践总结，梳理出一些-常规且有效-的性能优化建议"><a href="#压缩项目打包后的体积大小、提升打包速度，是前端性能优化中非常重要的环节，笔者结合工作中的实践总结，梳理出一些-常规且有效-的性能优化建议" class="headerlink" title="压缩项目打包后的体积大小、提升打包速度，是前端性能优化中非常重要的环节，笔者结合工作中的实践总结，梳理出一些 常规且有效 的性能优化建议"></a>压缩项目打包后的体积大小、提升打包速度，是前端性能优化中非常重要的环节，笔者结合工作中的实践总结，梳理出一些 常规且有效 的性能优化建议</h2><h2 id="项目背景"><a href="#项目背景" class="headerlink" title="项目背景"></a>项目背景</h2><p>技术栈： vue-cli3 + vue2 + webpack4 主要插件：elementUI + echarts + axios + momentjs</p>
<p><strong>目标：</strong> 通过一系列的优化方案，对比打包体积和速度的前后变化，来验证方案的有效性</p>
<h2 id="项目初始体积与速度"><a href="#项目初始体积与速度" class="headerlink" title="项目初始体积与速度"></a>项目初始体积与速度</h2><ul>
<li><strong>初始体积</strong> <strong><code>2.25M</code></strong></li>
</ul>
<p><img src="/" class="lazyload" data-src="https://e8ihplx6a2.feishu.cn/space/api/box/stream/download/asynccode/?code=ZjVjNTk4OWM5ZmY3NWFjOTgxNTI5Yjg5MzFhOTE5MDlfR2FlWkM0NFBpSGMySnlCNXo1d1lDUHNIeGdlNHQwSEVfVG9rZW46Ym94Y25KSjRCa0tjRGhaUkdoSkNKS1MxNmFkXzE2NzY0NTAwNTA6MTY3NjQ1MzY1MF9WNA"  alt="img"></p>
<p>vue 项目可以通过添加– report(报告) 命令： <code>&quot;build&quot;: &quot;vue-cli-service build --report&quot;</code>，打包后 dist 目录会生成 report(报告) .html 文件，用来分析各文件的大小</p>
<p>或者通过安装 <code>webpack-bundle-analyzer</code> 插件来分析，步骤如下：</p>
<p>1）安装</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install webpack-bundle-analyzer -D</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<p>2）vue.config.js 中 引入</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">const BundleAnalyzerPlugin = require('webpack-bundle-analyzer').BundleAnalyzerPlugin;module.exports = &#123;</span><br><span class="line">  configureWebpack: &#123;</span><br><span class="line">      plugins: [</span><br><span class="line">         new BundleAnalyzerPlugin()</span><br><span class="line">      ]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<p>3）npm run serve 运行后，在浏览器打开<code>http://127.0.0.1:8888/</code> 可以看到分析页面</p>
<ul>
<li><strong>初始打包速度</strong> <strong><code>25386ms</code></strong></li>
</ul>
<p><img src="/" class="lazyload" data-src="https://e8ihplx6a2.feishu.cn/space/api/box/stream/download/asynccode/?code=YzVjNzZiMjI4M2YyNGE1YTg3ZGIyZDljYzMxNjhiZjhfSmVzZWt6N3N1TFVnZWJ5TFFqYUx1ZjhQdDc5YjlBT3VfVG9rZW46Ym94Y25MRkJsR3VLOFJhSDVoeVBjbkdueE5kXzE2NzY0NTAwNTA6MTY3NjQ1MzY1MF9WNA"  alt="img"></p>
<h2 id="开始优化-✈︎"><a href="#开始优化-✈︎" class="headerlink" title="开始优化 ✈︎"></a>开始优化 ✈︎</h2><h3 id="1、externals-提取项目依赖"><a href="#1、externals-提取项目依赖" class="headerlink" title="1、externals 提取项目依赖"></a>1、externals 提取项目依赖</h3><p>从上面的打包分析页面中可以看到，<code>chunk-vendors.js</code> 体积为 <code>2.21M</code>，其中最大的几个文件都是一些公共依赖包，那么只要把这些依赖提取出来，就可以解决 chunk-vendors.js 过大的问题</p>
<p>可以使用 <code>externals</code> 来提取这些依赖包，告诉 webpack 这些依赖是外部环境提供的，在打包时可以忽略它们，就不会再打到 chunk-vendors.js 中</p>
<p>1）vue.config.js 中配置：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">module.exports = &#123;</span><br><span class="line">  <span class="selector-tag">configureWebpack</span>: &#123;</span><br><span class="line">    <span class="attribute">externals</span>: &#123;</span><br><span class="line">      vue: <span class="string">'Vue'</span>,</span><br><span class="line">      <span class="string">'vue-router'</span>: <span class="string">'VueRouter'</span>,</span><br><span class="line">      axios: <span class="string">'axios'</span>,</span><br><span class="line">      echarts: <span class="string">'echarts'</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<p>2）在 index.html 中使用 CDN 引入依赖</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"http://lib.baomitu.com/vue/2.6.14/vue.min.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"http://lib.baomitu.com/vue-router/3.5.1/vue-router.min.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"http://lib.baomitu.com/axios/1.2.1/axios.min.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"http://lib.baomitu.com/echarts/5.3.2/echarts.min.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span><span class="tag">&lt;/<span class="name">body</span>&gt;</span>复制代码</span><br></pre></td></tr></table></figure>

<p><strong>验证 externals 的有效性：</strong></p>
<p>重新打包，最新数据如下：</p>
<p>打包体积：<code>1.12M</code></p>
<p><img src="/" class="lazyload" data-src="https://e8ihplx6a2.feishu.cn/space/api/box/stream/download/asynccode/?code=M2Y4MGRlYzVlNWI1ZGZlZDE0NDY4N2FkNWFkY2ExMWVfY3AxRE4xYU5mOXNoSFh5Z2s3ZzhWbEx3TlBIdU9zcTdfVG9rZW46Ym94Y25XWENJSDhPQU5DdXZHZ1ZIYmRLQlRkXzE2NzY0NTAwNTA6MTY3NjQ1MzY1MF9WNA"  alt="img"></p>
<p>打包速度：<code>18879ms</code></p>
<p><img src="/" class="lazyload" data-src="https://e8ihplx6a2.feishu.cn/space/api/box/stream/download/asynccode/?code=Nzk1YTkyNWVlNDU4MDc3MDljYjNhZGFkZTZiMDE5MTdfTkdKRXhCRVV2R2ZhSk9ZQ21RWVE3R3FxT3BadlBOaE9fVG9rZW46Ym94Y25YeHh4UjFlMlNLSDhxV0VJRmxyOUtjXzE2NzY0NTAwNTA6MTY3NjQ1MzY1MF9WNA"  alt="img"></p>
<p>使用 externals 后，包体积压缩 50%、打包速度提升 26%</p>
<h3 id="2、组件库的按需引入"><a href="#2、组件库的按需引入" class="headerlink" title="2、组件库的按需引入"></a>2、组件库的按需引入</h3><p>为什么没有使用 externals 的方式处理组件库呢？</p>
<p><strong>externals 缺点</strong>：直接在 html 内引入的，失去了按需引入的功能，只能引入组件库完整的 js 和 css</p>
<p>组件库按需引入的原理：最终只引入指定组件和对应的样式</p>
<p>elementUI 需要借助 <a href="https://link.juejin.cn/?target=https%3A%2F%2Fgithub.com%2FQingWei-Li%2Fbabel-plugin-component">babel-plugin-component</a> 插件实现，插件的作用如下：</p>
<p>如按需引入 Button(按钮) 组件：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">import &#123; Button &#125; from 'element-ui'</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">Vue</span><span class="selector-class">.component</span>(<span class="selector-tag">Button</span><span class="selector-class">.name</span>, <span class="selector-tag">Button</span>)</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<p>编译后的文件（自动引入 button(按钮) .css）：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> _Button <span class="keyword">from</span> <span class="string">"element-ui/lib/button"</span>;</span><br><span class="line"><span class="keyword">import</span> _Button2 <span class="keyword">from</span> <span class="string">"element-ui/lib/theme-chalk/button.css"</span>;</span><br><span class="line"><span class="comment">// base.css是公共的样式import "element-ui/lib/theme-chalk/base.css";</span></span><br><span class="line"></span><br><span class="line">Vue.component(_Button.name, _Button);</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<p>通过该插件，最终只引入指定组件和样式，来实现减少组件库体积大小</p>
<p>1）安装 babel-plugin-component</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install babel-plugin-component -D</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<p>2）babel.config.js 中引入</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">module.exports = &#123;</span><br><span class="line">  <span class="selector-tag">presets</span>: <span class="selector-attr">[<span class="string">'@vue/app'</span>]</span>,</span><br><span class="line">  plugins: [</span><br><span class="line">    [</span><br><span class="line">      'component',</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attribute">libraryName</span>: <span class="string">'element-ui'</span>,</span><br><span class="line">        styleLibraryName: <span class="string">'theme-chalk'</span></span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  ]</span><br><span class="line">&#125;;</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<p><strong>验证组件库按需引入的有效性：</strong></p>
<p>重新打包，最新数据如下：</p>
<p>打包体积：<code>648KB</code></p>
<p><img src="/" class="lazyload" data-src="https://e8ihplx6a2.feishu.cn/space/api/box/stream/download/asynccode/?code=NTIyNmYwZGJlNjhkMjQ4ODIyNmZkOTVlOWE5Y2RlYjlfOXA1NDJ6eTJpOU1ZdEZOandaM1JLdW9RNngxYkkza2pfVG9rZW46Ym94Y25hRFdoR1RpOUgwVjJaaEpPN2pTUWUwXzE2NzY0NTAwNTA6MTY3NjQ1MzY1MF9WNA"  alt="img"></p>
<p>打包速度：<code>15135ms</code></p>
<p><img src="/" class="lazyload" data-src="https://e8ihplx6a2.feishu.cn/space/api/box/stream/download/asynccode/?code=NWFmYWRkMmUxZDA5MDVjN2JmMzk2NGI3MjliMzI1MDdfYWdMeUQ2ZEhSV2lZRU42c0pLeFJ4ZjZSRm82TTkzQnRfVG9rZW46Ym94Y25UNjl5aE16U0twRUdPZzVobGQ3NVhlXzE2NzY0NTAwNTA6MTY3NjQ1MzY1MF9WNA"  alt="img"></p>
<p>组件库按需引入后，包体积压缩 72%、打包速度提升 40%</p>
<p>同时 <code>chunk-vendors.css</code> 的体积也有了明显的减少，从<code>206KB</code>降到了<code>82KB</code></p>
<p>原始体积：</p>
<p><img src="/" class="lazyload" data-src="https://e8ihplx6a2.feishu.cn/space/api/box/stream/download/asynccode/?code=OTBiMjNhNjc3NzE2YWMwMzUxNWRkYjI4Y2Q2OTQwYmNfSGhNRkhkRFk5cXRTRGZseThRTEpMV3NpUUlOUFNUVGhfVG9rZW46Ym94Y24xbWU3TTNjR0RwOEYwamVSUWRDZGtBXzE2NzY0NTAwNTA6MTY3NjQ1MzY1MF9WNA"  alt="img"></p>
<p>按需引入后：</p>
<p><img src="/" class="lazyload" data-src="https://e8ihplx6a2.feishu.cn/space/api/box/stream/download/asynccode/?code=MDFmMTcxMTUwMmYzZTg2MTA5YWE2OTU1MTBhMmIzMzlfQllRa2xkb2RpUHIzd1NNeXFWRUJ6akV0ZndEOU54d05fVG9rZW46Ym94Y25ueUJkZk91MVVHbE80aUxRRnlQY0xlXzE2NzY0NTAwNTA6MTY3NjQ1MzY1MF9WNA"  alt="img"></p>
<h3 id="3、减小三方依赖的体积"><a href="#3、减小三方依赖的体积" class="headerlink" title="3、减小三方依赖的体积"></a>3、减小三方依赖的体积</h3><p>继续分析打包文件，项目中使用了 momentjs，发现打包后有很多没有用到的语言包</p>
<p><img src="/" class="lazyload" data-src="https://e8ihplx6a2.feishu.cn/space/api/box/stream/download/asynccode/?code=MTQ0ODg3MDJkMDY1NTVlMDViZjEzMTkxNzk1Mjk4ODVfbFRZbkVQeXZvdHpmdUdPbW9MQzRBSERzUWZyNEw5MTNfVG9rZW46Ym94Y25jMVpkZThDdlFnRlBzSFBiMXpxeEFjXzE2NzY0NTAwNTA6MTY3NjQ1MzY1MF9WNA"  alt="img"></p>
<p>使用 <code>moment-locales-webpack-plugin</code> 插件，剔除掉无用的语言包</p>
<p>1）安装</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install moment-locales-webpack-plugin -D</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<p>2）vue.config.js 中引入</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">const MomentLocalesPlugin = require('moment-locales-webpack-plugin');module.exports = &#123;</span><br><span class="line">  configureWebpack: &#123;</span><br><span class="line">     plugins: [</span><br><span class="line">       new MomentLocalesPlugin(&#123;localesToKeep: ['zh-cn']&#125;)</span><br><span class="line">     ]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<p><strong>验证插件的有效性：</strong></p>
<p>重新打包，最新数据如下：</p>
<p>打包体积：<code>407KB</code></p>
<p><img src="/" class="lazyload" data-src="https://e8ihplx6a2.feishu.cn/space/api/box/stream/download/asynccode/?code=ZTA3ZGNiZjFkZGY2ODkzMTNkNTJiMGMwODkzMjZkZDlfZWd3NzI1bFQ4VnFKOXRGeE5TbnlKbFlsOWtuNm5kQ2tfVG9rZW46Ym94Y25PUnlSVEh3bjNYUlpKMXpmZ1RSYVFnXzE2NzY0NTAwNTA6MTY3NjQ1MzY1MF9WNA"  alt="img"></p>
<p>打包速度：<code>10505ms</code></p>
<p><img src="/" class="lazyload" data-src="https://e8ihplx6a2.feishu.cn/space/api/box/stream/download/asynccode/?code=OTJlMmFhOGI5MzcwMTI1ZTNiMmE3ODdiZjI2MWI3MmFfWklvU1pIMUtZWWZoQXNidHNlRnRKOXhER1dZeXVhOTVfVG9rZW46Ym94Y25ZQVBjRmhKUEUwYndsZVFxUE9WMWdnXzE2NzY0NTAwNTA6MTY3NjQ1MzY1MF9WNA"  alt="img"></p>
<p>减小三方依赖体积后，包体积压缩 82%、打包速度提升 59%</p>
<h3 id="4、HappyPack-多线程打包"><a href="#4、HappyPack-多线程打包" class="headerlink" title="4、HappyPack 多线程打包"></a>4、HappyPack 多线程打包</h3><p>由于运行在 Node.js 之上的 webpack 是单线程模型的，我们需要 webpack 能同一时间处理多个任务，发挥多核 CPU 电脑的威力</p>
<p><code>HappyPack</code> 就能实现多线程打包，它把任务分解给多个子进程去并发的执行，子进程处理完后再把结果发送给主进程，来提升打包速度</p>
<p>1）安装</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install HappyPack -D</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<p>2）vue.config.js 中引入</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">const HappyPack = require('happypack');</span><br><span class="line">const os = require('os');</span><br><span class="line">// 开辟一个线程池，拿到系统CPU的核数，happypack 将编译工作利用所有线程</span><br><span class="line">const happyThreadPool = HappyPack.ThreadPool(&#123; size: os.cpus().length &#125;);module.exports = &#123;</span><br><span class="line">  configureWebpack: &#123;</span><br><span class="line">     plugins: [</span><br><span class="line">       new HappyPack(&#123;</span><br><span class="line">        id: 'happybabel',</span><br><span class="line">        loaders: ['babel-loader'],</span><br><span class="line">        threadPool: happyThreadPool</span><br><span class="line">      &#125;)</span><br><span class="line">     ]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<p><strong>验证 HappyPack 的有效性：</strong></p>
<p>重新打包，最新数据如下：</p>
<p>打包速度：<code>8949ms</code></p>
<p><img src="/" class="lazyload" data-src="https://e8ihplx6a2.feishu.cn/space/api/box/stream/download/asynccode/?code=MGQ5MDVkZDRiYjNmNjA3MDJjOWQ5YTRjMDE1MTFmYTZfUHFENHRVczJKanBTaVN1b0xreWVoS1JnejByV3hDUFJfVG9rZW46Ym94Y25aQ0ZzZ0VJSThPT3NJRWlWdkczZkhMXzE2NzY0NTAwNTA6MTY3NjQ1MzY1MF9WNA"  alt="img"></p>
<p>使用 HappyPack 后，打包速度进一步提升了 65%</p>
<p>由于测试项目较小，打包时间缩短的不算太多。实测发现越是复杂的项目，HappyPack 对打包速度的提升越明显</p>
<h3 id="5、Gzip-压缩"><a href="#5、Gzip-压缩" class="headerlink" title="5、Gzip 压缩"></a>5、Gzip 压缩</h3><p>线上的项目，一般都会结合构建工具 webpack 插件或服务端配置 nginx，来实现 http 传输的 gzip 压缩，目的就是把服务端响应文件的体积尽量减小，优化返回速度</p>
<p>html、js、css 资源，使用 gzip 后通常可以将体积压缩 70%以上</p>
<p>这里介绍下使用 webpack 进行 gzip 压缩的方式，使用 <code>compression-webpack-plugin</code> 插件</p>
<p>1）安装</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install compression-webpack-plugin -D</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<p>2）vue.config.js 中引入</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> CompressionPlugin = <span class="built_in">require</span>(<span class="string">'compression-webpack-plugin'</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  configureWebpack: &#123;</span><br><span class="line">     plugins: [</span><br><span class="line">      <span class="keyword">new</span> CompressionPlugin(&#123;</span><br><span class="line">        test: <span class="regexp">/\.(js|css)(\?.*)?$/i</span>, <span class="comment">//需要压缩的文件正则threshold: 1024, //文件大小大于这个值时启用压缩deleteOriginalAssets: false //压缩后保留原文件</span></span><br><span class="line">      &#125;)</span><br><span class="line">     ]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<p><strong>验证插件的有效性：</strong></p>
<p>重新打包，原来 <code>407KB</code> 的体积压缩为 <code>108KB</code></p>
<p><img src="/" class="lazyload" data-src="https://e8ihplx6a2.feishu.cn/space/api/box/stream/download/asynccode/?code=OTM3ZDdlOWVjNjhkOThlNDJkYTE1NGZhZjc3NTg5NGNfRWtydHJ1TDRtR283MXJoQmFVNHNiWEZoSXFONnBqRkNfVG9rZW46Ym94Y256WXFmVnV4cFFFRURWNW9YTjZOY1BnXzE2NzY0NTAwNTA6MTY3NjQ1MzY1MF9WNA"  alt="img"></p>
<h3 id="6、DllPlugin-动态链接库"><a href="#6、DllPlugin-动态链接库" class="headerlink" title="6、DllPlugin 动态链接库"></a>6、DllPlugin 动态链接库</h3><p><code>DllPlugin</code> 与 externals 的作用相似，都是将依赖抽离出去，节约打包时间。区别是 DllPlugin 是将依赖单独打包，这样以后每次只构建业务代码，而 externals 是将依赖转化为 CDN 的方式引入</p>
<p>当公司没有很好的 CDN 资源或不支持 CDN 时，就可以考虑使用 DllPlugin ，替换掉 externals</p>
<p>DllPlugin 配置流程大致分为三步：</p>
<p>1）创建 dll.config.js 配置文件</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">import &#123; DllPlugin &#125; from "webpack";</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">export</span> <span class="selector-tag">default</span> &#123;</span><br><span class="line">    // 需要抽离的依赖</span><br><span class="line">    <span class="selector-tag">entry</span>: &#123;</span><br><span class="line">        <span class="attribute">vendor</span>: [<span class="string">"vue"</span>, <span class="string">"vue-router"</span>, <span class="string">"axios"</span>, <span class="string">"echarts"</span>]</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="selector-tag">mode</span>: "<span class="selector-tag">production</span>",</span><br><span class="line">    <span class="selector-tag">optimization</span>: &#123;</span><br><span class="line">        <span class="attribute">splitChunks</span>: &#123;</span><br><span class="line">            cacheGroups: &#123;</span><br><span class="line">                vendor: &#123;</span><br><span class="line">                    chunks: <span class="string">"all"</span>,</span><br><span class="line">                    name: <span class="string">"vendor"</span>,</span><br><span class="line">                    test: /node_modules/</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="selector-tag">output</span>: &#123;</span><br><span class="line">        <span class="attribute">filename</span>: <span class="string">"[name].dll.js"</span>, // 输出路径和文件名称</span><br><span class="line">        library: <span class="string">"[name]"</span>, // 全局变量名称：其他模块会从此变量上获取里面模块</span><br><span class="line">        path: <span class="built_in">AbsPath</span>(<span class="string">"dist/static"</span>) // 输出目录路径</span><br><span class="line">    &#125;,</span><br><span class="line">    plugins: [</span><br><span class="line">        <span class="selector-tag">new</span> <span class="selector-tag">DllPlugin</span>(&#123;</span><br><span class="line">            <span class="attribute">name</span>: <span class="string">"[name]"</span>, // 全局变量名称：减小搜索范围，与output.library结合使用</span><br><span class="line">            path: <span class="built_in">AbsPath</span>(<span class="string">"dist/static/[name]-manifest.json"</span>) // 输出目录路径</span><br><span class="line">        &#125;)</span><br><span class="line">    ]</span><br><span class="line">&#125;;</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<p>2） package(包) .json 配置脚本</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">"build:dll": "webpack --config ./dll.config.js",复制代码</span><br></pre></td></tr></table></figure>

<p>3）使用 <code>DllReferencePlugin</code> 将打包生成的 dll 文件，引用到需要的预编译的依赖上来，并通过 <code>html-webpack-tags-plugin</code> 在打包时自动插入 dll 文件</p>
<p>vue.config.js 配置如下</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; DllReferencePlugin &#125; <span class="keyword">from</span> <span class="string">"webpack"</span>;</span><br><span class="line"><span class="keyword">import</span> HtmlTagsPlugin <span class="keyword">from</span> <span class="string">"html-webpack-tags-plugin"</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  configureWebpack: &#123;</span><br><span class="line">    plugins: [</span><br><span class="line">      <span class="keyword">new</span> DllReferencePlugin(&#123;</span><br><span class="line">        manifest: AbsPath(<span class="string">"dist/static/vendor-manifest.json"</span>) <span class="comment">// manifest文件路径</span></span><br><span class="line">      &#125;),</span><br><span class="line">      <span class="keyword">new</span> HtmlTagsPlugin(&#123;</span><br><span class="line">        append: <span class="literal">false</span>, <span class="comment">// 在生成资源后插入publicPath: "/", // 使用公共路径tags: ["static/vendor.dll.js"] // 资源路径</span></span><br><span class="line">      &#125;)</span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<p>先运行 <code>npm run build:dll</code> 打包生成依赖文件，以后只用运行 <code>npm run build</code> 构建业务代码即可</p>
<h2 id="优化总结"><a href="#优化总结" class="headerlink" title="优化总结"></a>优化总结</h2><p>经过上面的一系列优化，可以看到：</p>
<p>-</p>
<ul>
<li>包体积由原来的 <code>2.25M</code> 减少到 <code>407KB</code>，压缩了 82%</li>
<li></li>
<li>打包速度由原来的 <code>25386ms</code>减少到 <code>8949ms</code>，提升了 65%</li>
</ul>
<p>这些方式虽然很常规，但确实可以有效地提升项目的性能</p>
<p>本文主要介绍的是 <strong>项目打包构建方面</strong> 的优化方式，下一篇聊一聊 <strong>业务代码层面</strong> 的性能优化，其中会有很多有趣的方案</p>
<p>作者：海阔_天空 链接：<a href="https://juejin.cn/post/7186315052465520698" target="_blank" rel="noopener">https://juejin.cn/post/7186315052465520698</a> 来源：稀土掘金 著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>
</div><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">小黑</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="http://ynxh.xyz/2023/02/15/%E5%89%8D%E7%AB%AF/%E5%89%8D%E7%AB%AF%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96-%E5%8C%85%E4%BD%93%E7%A7%AF/">http://ynxh.xyz/2023/02/15/前端/前端性能优化-包体积/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://ynxh.xyz" target="_blank">小黑的小站</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"></div><div class="post_share"><div class="social-share" data-image="/img/vue.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css"/><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js"></script></div></div><div class="post-reward"><a class="reward-button button--primary button--animated"> <i class="fa fa-qrcode"></i> 打赏<div class="reward-main"><ul class="reward-all"><li class="reward-item"><img class="lazyload post-qr-code__img" src="/img/wechat.jpg" alt="微信"/><div class="post-qr-code__desc">微信</div></li><li class="reward-item"><img class="lazyload post-qr-code__img" src="/img/alipay.jpg" alt="支付寶"/><div class="post-qr-code__desc">支付寶</div></li></ul></div></a></div><nav class="pagination_post" id="pagination"><div class="prev-post pull_left"><a href="/2023/02/15/%E5%89%8D%E7%AB%AF/%E5%89%8D%E7%AB%AF%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96-%E9%A6%96%E9%A1%B5%E8%B5%84%E6%BA%90-%E7%99%BD%E5%B1%8F/"><img class="prev_cover lazyload" data-src="/img/javascript.jpg" onerror="onerror=null;src='/img/404.jpg'"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">前端/前端性能优化-首页资源-白屏</div></div></a></div><div class="next-post pull_right"><a href="/2023/01/29/%E5%89%8D%E7%AB%AF/tauri%E9%A1%B9%E7%9B%AE%E8%B7%A8%E5%B9%B3%E5%8F%B0%E7%BC%96%E8%AF%91/"><img class="next_cover lazyload" data-src="/img/nest.png" onerror="onerror=null;src='/img/404.jpg'"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">前端/tauri项目跨平台编译</div></div></a></div></nav></article></main><footer id="footer" data-type="color"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2023 By 小黑</div><div class="footer_custom_text">Hi, welcome to my <a href="http://ynxh.xyz/">blog</a>!</div></div></footer></div><section class="rightside" id="rightside"><div id="rightside-config-hide"><i class="fa fa-book" id="readmode" title="阅读模式"></i><i class="fa fa-plus" id="font_plus" title="放大字体"></i><i class="fa fa-minus" id="font_minus" title="缩小字体"></i><a class="translate_chn_to_cht" id="translateLink" href="javascript:translatePage();" title="简繁转换" target="_self">2</a><i class="darkmode fa fa-moon-o" id="darkmode" title="夜间模式"></i></div><div id="rightside-config-show"><div id="rightside_config" title="设置"><i class="fa fa-cog" aria-hidden="true"></i></div><i class="fa fa-list-ul close" id="mobile-toc-button" title="目录" aria-hidden="true"></i><i class="fa fa-arrow-up" id="go-up" title="回到顶部" aria-hidden="true"></i></div></section><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><script id="canvas_nest" color="0,0,255" opacity="0.7" zIndex="-1" count="99" mobile="false" src="/js/third-party/canvas-nest.js"></script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@latest/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/lazysizes@latest/lazysizes.min.js" async=""></script><script src="/js/third-party/click_heart.js"></script></body></html>